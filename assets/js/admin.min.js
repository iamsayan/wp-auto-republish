function wparOpenPopup(e,t,a,n){var r=window.outerHeight/2+window.screenY-n/2,o=window.outerWidth/2+window.screenX-a/2;return window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+n+", top="+r+", left="+o)}jQuery(document).ready(function(e){function t(t,a){let n=a.data("success"),r=a.data("reload"),o=e.dialog({title:rvpAdminL10n.processing,content:rvpAdminL10n.under_process,useBootstrap:!1,draggable:!1,theme:"material",type:"orange",closeIcon:!1,boxWidth:"25%",scrollToPreviousElement:!1});e.post(rvpAdminL10n.ajaxurl,{action:t,security:rvpAdminL10n.security},function(t,a){!0===t.success?(o.close(),e.alert({title:rvpAdminL10n.done,content:n,useBootstrap:!1,draggable:!1,theme:"material",type:"green",boxWidth:"25%",scrollToPreviousElement:!1,buttons:{buttonOK:{text:rvpAdminL10n.ok_button,action:function(){"yes"===r&&location.reload()}}}})):(o.close(),e.alert({title:rvpAdminL10n.error,content:t.data.error,useBootstrap:!1,draggable:!1,theme:"material",type:"red",boxWidth:"25%",scrollToPreviousElement:!1,buttons:{buttonOK:{text:rvpAdminL10n.ok_button,action:function(){}}}}))})}if("undefined"==typeof rvpAdminL10n)return!1;let a=e("#wpar-nav-container").find("a.wpar-tab:not(.type-link)");for(let t=0;t<a.length;t++)e(a[t]).on("click",function(t){t.preventDefault();var a=e(this).attr("id").replace("wpar-tab-","");e("a.is-active").removeClass("is-active"),e(this).addClass("is-active"),e(".wpar-metabox .wpar-"+a).removeClass("d-none"),e(".wpar-metabox .postbox:not(.wpar-"+a+"), .wpar-metabox .sub-links:not(.wpar-"+a+")").addClass("d-none"),localStorage.setItem("wpar_active_tab",a),localStorage.wpar_social_active_tab&&"social"==a&&e(".wpar-wrap").find("a.sub-link-"+localStorage.wpar_social_active_tab).trigger("click")});setTimeout(function(){localStorage.wpar_active_tab?e("#wpar-nav-container").find("a#wpar-tab-"+localStorage.wpar_active_tab).trigger("click"):e("#wpar-nav-container").find("a#wpar-tab-general").trigger("click")},10),e("a.share-btn:not(.no-popup)").on("click",function(t){t.preventDefault(),wparOpenPopup(e(this).attr("href"),"Share Window",950,700)}),e(".wpar-upgrade").on("click",function(t){var a=e(this).attr("href");t.preventDefault(),e.confirm({title:"Premium Features",content:e(".wpar-premium-popup").html(),useBootstrap:!1,draggable:!1,theme:"material",animation:"scale",type:"green",boxWidth:"25%",closeIcon:!0,scrollToPreviousElement:!1,buttons:{buttonTrial:{text:"Start Trial",isHidden:!rvpAdminL10n.can_use_trial,btnClass:"btn-dark",action:function(){location.href=a+"&trial=true"}},buttonUpgrade:{text:"Upgrade Now",btnClass:"btn-green",action:function(){location.href=a}}}})}),e("#wpar-settings-form").submit(function(){e(".wpar-save").addClass("disabled").val(rvpAdminL10n.saving);let t=e.dialog({title:rvpAdminL10n.saving,content:rvpAdminL10n.saving_text,useBootstrap:!1,draggable:!1,theme:"material",type:"orange",closeIcon:!1,boxWidth:"25%",scrollToPreviousElement:!1});return e(this).ajaxSubmit({success:function(){t.close(),e.alert({title:rvpAdminL10n.done,content:rvpAdminL10n.save_success,useBootstrap:!1,draggable:!1,theme:"material",type:"green",boxWidth:"25%",scrollToPreviousElement:!1,buttons:{buttonOK:{text:rvpAdminL10n.ok_button,action:function(){"yes"==e(".wpar-wrap").attr("data-reload")&&location.reload()}}}}),e(".wpar-save").removeClass("disabled").val(rvpAdminL10n.save_button)},error:function(){t.close(),e.alert({title:rvpAdminL10n.error,content:rvpAdminL10n.process_failed,useBootstrap:!1,draggable:!1,theme:"material",type:"red",boxWidth:"25%",scrollToPreviousElement:!1,buttons:{buttonOK:{text:rvpAdminL10n.ok_button,action:function(){}}}})}}),!1}),e("input.wpar-copy").on("click",function(t){t.preventDefault();let a=e(this),n=a.val();a.addClass("disabled").val(rvpAdminL10n.please_wait),e.post(rvpAdminL10n.ajaxurl,{action:"wpar_process_copy_data",security:rvpAdminL10n.security},function(t,r){if(!0===t.success){let r=e("<input>");e("body").append(r),r.val(t.data.settings_data).select(),document.execCommand("copy"),r.remove(),a.removeClass("disabled").val(n),e(".wpar-copied").show().delay(1e3).fadeOut()}})}),e("input.wpar-paste").on("click",function(t){t.preventDefault();e(this);let a=e.confirm({title:rvpAdminL10n.paste_data,content:'<textarea id="wpar-settings-data-import" rows="4" style="width: 100%;"></textarea>',useBootstrap:!1,theme:"material",animation:"scale",type:"green",boxWidth:"40%",draggable:!1,scrollToPreviousElement:!1,buttons:{confirm:{text:rvpAdminL10n.import_btn,action:function(){let t=this.$content.find("#wpar-settings-data-import").val();if(!t)return alert("Please enter valid settings data!"),!1;a.close(),e.dialog({title:rvpAdminL10n.importing,content:rvpAdminL10n.under_process,useBootstrap:!1,draggable:!1,theme:"material",type:"orange",closeIcon:!1,boxWidth:"25%",scrollToPreviousElement:!1}),e.post(rvpAdminL10n.ajaxurl,{action:"wpar_process_import_data",settings_data:t,security:rvpAdminL10n.security},function(t,a){!0===t.success&&(window.location.reload(),e.cookie("wpar_active_tab","general",{expires:30}))})}},close:{text:rvpAdminL10n.close_btn,action:function(){}}}})}),e("input.wpar-reset").on("click",function(a){a.preventDefault();let n=e(this),r=n.data("action"),o=n.data("notice"),i=n.data("type");if(!o)return void t(r,n);let s=e.confirm({title:rvpAdminL10n.warning,content:o,useBootstrap:!1,theme:"material",animation:"scale",type:i,boxWidth:"30%",draggable:!1,scrollToPreviousElement:!1,buttons:{confirm:{text:rvpAdminL10n.confirm_button,action:function(){s.close(),t(r,n)}},cancel:{text:rvpAdminL10n.cancel_button,action:function(){}}}})}),e("select.wpar-post-types").selectize({plugins:["remove_button"],delimiter:",",placeholder:rvpAdminL10n.select_post_types,persist:!1,create:!1}),e("select.wpar-taxonomies").selectize({plugins:["remove_button"],delimiter:",",placeholder:rvpAdminL10n.select_taxonomies,persist:!1,create:!1}),e("select#wpar_republish_days").selectize({plugins:["remove_button"],delimiter:",",placeholder:rvpAdminL10n.select_weekdays,persist:!1,create:!1}),e("#wpar_force_include, #wpar_force_exclude").selectize({plugins:["remove_button","restore_on_backspace","drag_drop"],delimiter:",",placeholder:rvpAdminL10n.post_ids,persist:!1,create:function(e){return{value:e,text:e}},createFilter:function(e){let t=/^\d+$/;return t.test(e)}}),e(".wpar-datepicker").datepicker({dateFormat:"dd/mm/yy",maxDate:-1,changeMonth:!0,changeYear:!0,yearRange:"-25:+0",defaultDate:"-5y"}),e(".wpar-timepicker").timepicker({timeFormat:"HH:mm:ss",stepHour:1,stepMinute:1,stepSecond:1,showMillisec:!1,showMicrosec:!1,showTimezone:!1,timeOnly:!0});let n=(e,t,a)=>{switch(a){case"=":return e==t;case">":return e>t;case"<":return e<t;case"!=":return e!=t;case">=":return e>=t;case"<=":return e<=t}};e(".wpar-wrap").find("select.do-selectize").each(function(t,a){let n=e(a).data("placeholder"),r=e(a).data("required");"yes"==r&&(n+=" (required)"),e(a).selectize({plugins:["remove_button"],delimiter:",",placeholder:n,persist:!1,create:!1})}),e("#wpar_enable_plugin").on("change",function(){e(this).is(":checked")&&e("#wpar-nav-container a#wpar-tab-post").show(),e(this).is(":checked")||e("#wpar-nav-container a#wpar-tab-post").hide()}).trigger("change"),e("#wpar_republish_time_specific").on("change",function(){"yes"==e(this).val()?e(".wpar-time-limit-msg").show():e(".wpar-time-limit-msg").hide()}).trigger("change"),e(".wpar-wrap").find(".wpar-form-el[data-condition]").each(function(t,a){let r=e(a).data("condition");e(`#wpar_${r[0].replace("wpar_","")}`).on("change",function(){n(e(this).val(),r[2],r[1])?e(a).closest("tr").removeClass("wpar-c-hide").addClass("wpar-c-show").slideDown():e(a).closest("tr").removeClass("wpar-c-show").addClass("wpar-c-hide").hide()}).trigger("change")}),setTimeout(()=>{e(".wpar-wrap").find(".wpar-form-el[data-show-if]").each(function(t,a){let n=e(a).data("show-if");e(`#wpar_${n.replace("wpar_","")}`).on("change",function(){e(this).is(":checked")?e(a).closest("tr:not(.wpar-c-hide)").slideDown():e(a).closest("tr:not(.wpar-c-hide)").hide()}).trigger("change")})},50),e(window).keydown(function(t){if(t.ctrlKey||t.metaKey)switch(String.fromCharCode(t.which).toLowerCase()){case"s":t.preventDefault(),e("#wpar-settings-form").submit()}})});